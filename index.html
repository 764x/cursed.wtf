<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>cursed.wtf</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tsparticles/2.12.0/tsparticles.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Space Grotesk', sans-serif;
            background: #000000;
            color: #f8fafc;
            margin: 0;
            -webkit-tap-highlight-color: transparent;
            overflow-x: hidden;
        }

        #tsparticles { position: fixed; width: 100%; height: 100%; z-index: -1; top: 0; left: 0; }

        #brand-card, #nav-dock-container, #music-control { transition: opacity 0.15s linear, transform 0.15s ease-out; }

        .nav-dock {
            background: rgba(15, 15, 15, 0.6);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 28px;
            padding: 8px 12px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.05) inset;
        }

        .nav-btn {
            position: relative;
            z-index: 10;
            color: rgba(255, 255, 255, 0.35);
            font-size: 0.8rem;
            font-weight: 700;
            padding: 12px 20px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: 0.02em;
        }

        .nav-btn.nav-active { 
            color: #ffffff; 
            text-shadow: 0 0 20px rgba(255,255,255,0.4);
        }

        .nav-indicator {
            position: absolute;
            height: 44px;
            background: rgba(255, 255, 255, 0.12);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 22px;
            transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            z-index: 1;
            box-shadow: 0 4px 12px rgba(255,255,255,0.1);
        }

        .tab-container { position: relative; width: 100%; min-height: 550px; }

        .tab-content {
            position: absolute; top: 0; left: 0; width: 100%;
            visibility: hidden; opacity: 0; 
            transform: translateY(12px);
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            pointer-events: none;
        }

        .tab-content.active {
            visibility: visible; opacity: 1; 
            transform: translateY(0);
            pointer-events: auto; position: relative;
        }

        .glass-card {
            background: rgba(12, 12, 12, 0.5);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .home-gradient-card {
            position: relative;
            z-index: 1;
            transition: all 0.4s ease;
            cursor: pointer;
        }

        .home-gradient-card:hover {
            transform: translateY(-8px);
            background: rgba(20, 20, 20, 0.8);
            border-color: rgba(255, 255, 255, 0.15);
            box-shadow: 0 20px 40px -15px rgba(0, 0, 0, 0.7);
        }

        .wallet-highlight {
            border: 1px solid rgba(59, 130, 246, 0.2);
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.05);
            animation: borderPulse 4s infinite ease-in-out;
        }

        @keyframes borderPulse {
            0%, 100% { border-color: rgba(59, 130, 246, 0.2); }
            50% { border-color: rgba(59, 130, 246, 0.5); }
        }

        .active-press:active { transform: scale(0.96); transition: transform 0.1s ease; }

        @keyframes refresh-spin {
            0% { transform: rotate(0deg) scale(1); }
            20% { transform: rotate(-45deg) scale(1.2); }
            100% { transform: rotate(360deg) scale(1); }
        }
        .refresh-anim { animation: refresh-spin 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55); }

        @keyframes valueUpdate {
            0% { color: #4ade80; transform: scale(1.05); }
            100% { color: inherit; transform: scale(1); }
        }
        .value-changed { animation: valueUpdate 1s ease-out; }

        .typing-cursor::after { content: '|'; animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0; } }

        .copy-toast {
            position: fixed; top: 25px; right: 25px;
            background: white; color: black; padding: 10px 20px;
            border-radius: 12px; font-size: 10px; font-weight: 900;
            opacity: 0; transform: translateX(20px); transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 110; pointer-events: none;
        }
        .copy-toast.show { opacity: 1; transform: translateX(0); }
        
        .back-to-top {
            position: fixed; bottom: 30px; right: 30px;
            width: 45px; height: 45px; border-radius: 50%;
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            color: white; display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none; transition: all 0.3s ease; z-index: 60;
        }
        .back-to-top.visible { opacity: 1; pointer-events: auto; }

        .tx-item {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.03);
            transition: all 0.2s ease;
        }
        .tx-item:hover { background: rgba(255, 255, 255, 0.05); }

        .modal-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); 
            backdrop-filter: blur(16px); z-index: 100; opacity: 0; pointer-events: none;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1); 
            display: flex; align-items: center; justify-content: center;
        }
        .modal-overlay.active { opacity: 1; pointer-events: auto; }
        .modal-box {
            transform: scale(0.85) translateY(20px); 
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        .modal-overlay.active .modal-box { 
            transform: scale(1) translateY(0); 
        }
        
        .gradient-modal {
            background: linear-gradient(135deg, rgba(25, 25, 30, 0.98) 0%, rgba(15, 15, 20, 0.98) 100%);
            box-shadow: 0 30px 60px rgba(0,0,0,0.8), 0 0 0 1px rgba(255,255,255,0.1) inset;
        }

        .loading-screen {
            position: fixed;
            inset: 0;
            background: #000000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loading-screen.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .loader {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top-color: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            margin-top: 20px;
            font-size: 12px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.5);
            letter-spacing: 0.2em;
            text-transform: uppercase;
        }

        .setting-item {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.2s ease;
        }
        
        .setting-item:hover {
            background: rgba(255, 255, 255, 0.04);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .toggle-switch {
            position: relative;
            width: 44px;
            height: 24px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .toggle-switch.active {
            background: rgba(59, 130, 246, 0.5);
        }

        .toggle-thumb {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
        }

        .toggle-switch.active .toggle-thumb {
            transform: translateX(20px);
        }

        .confirm-url {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            padding: 12px 16px;
            border-radius: 16px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            color: #60a5fa;
            word-break: break-all;
            margin: 16px 0;
        }

        .modal-icon-wrapper {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(147, 51, 234, 0.2) 100%);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            position: relative;
        }

        .modal-icon-wrapper::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.5), rgba(147, 51, 234, 0.5));
            opacity: 0.3;
            filter: blur(8px);
            z-index: -1;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center">

    <div id="loading-screen" class="loading-screen">
        <div class="loader"></div>
        <div class="loading-text">Loading</div>
    </div>

    <div id="tsparticles"></div>
    <div id="global-toast" class="copy-toast uppercase tracking-[0.2em]">Copied!</div>

    <audio id="bg-music" loop>
        <source src="https://cdn.discordapp.com/attachments/1459716372136460467/1469779241452306534/DEAD_HIPPIE_-_Red_Hall_music_video.mp3?ex=6988e616&is=69879496&hm=902a65b80b1879e7cc0e37fa3c1fa265df55a3f06b9e149e6b1fe764b81961cb&" type="audio/mpeg">
    </audio>

    <div id="brand-card" class="fixed top-6 left-6 z-50">
        <div class="glass-card px-4 py-2 rounded-xl border-white/10 shadow-lg cursor-default">
            <span class="text-[10px] font-bold tracking-[0.3em] uppercase opacity-80">cursed.wtf</span>
        </div>
    </div>

    <div id="music-control" class="fixed top-6 right-6 z-50">
        <button onclick="toggleMusic()" class="glass-card w-10 h-10 rounded-xl border-white/10 flex items-center justify-center active-press">
            <i id="music-icon" class="fa-solid fa-volume-xmark text-xs opacity-80"></i>
        </button>
    </div>

    <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" id="btt-btn" class="back-to-top active-press">
        <i class="fa-solid fa-arrow-up text-xs"></i>
    </button>

    <div id="nav-dock-container" class="fixed bottom-8 z-50 flex items-center">
        <nav class="nav-dock flex items-center relative">
            <div id="nav-indicator" class="nav-indicator"></div>
            <button onclick="switchTab('home', this)" class="nav-btn nav-active active-press">Home</button>
            <button onclick="switchTab('wallet', this)" class="nav-btn active-press">Wallet</button>
            <button onclick="switchTab('socials', this)" class="nav-btn active-press">Socials</button>
            <button onclick="switchTab('settings', this)" class="nav-btn active-press">Settings</button>
        </nav>
    </div>

    <main class="relative z-10 pt-32 pb-40 px-6 w-full max-w-xl">
        <div class="tab-container">
            
            <section id="home" class="tab-content active">
                <header class="mb-12 text-center md:text-left">
                    <p id="typing-text" class="text-slate-200 text-2xl md:text-3xl font-medium leading-tight typing-cursor"></p>
                </header>
                
                <div class="space-y-4">
                    <div onclick="confirmRedirect('https://discord.gg/devioussolver')" class="glass-card home-gradient-card p-6 rounded-3xl border-l-2 border-l-indigo-500/30">
                        <h3 class="font-bold text-xl text-white mb-2">Funcaptcha Solver</h3>
                        <div class="flex flex-wrap gap-2 mb-6">
                            <span class="text-[9px] bg-white/5 border border-white/5 px-2 py-0.5 rounded text-slate-300 font-bold uppercase">Captcha</span>
                            <span class="text-[9px] bg-white/5 border border-white/5 px-2 py-0.5 rounded text-slate-300 font-bold uppercase">Solver</span>
                        </div>
                        <ul class="space-y-2 mb-8">
                            <li class="flex items-center gap-2 text-xs text-slate-400"><i class="fa-solid fa-check text-green-500 text-[10px]"></i> Supports almost all Funcaptcha challenge types</li>
                            <li class="flex items-center gap-2 text-xs text-slate-400"><i class="fa-solid fa-check text-green-500 text-[10px]"></i> Ultra-low latency responses</li>
                        </ul>
                        <div class="flex items-center justify-between mt-auto">
                            <p class="text-[10px] text-slate-500 font-mono">discord.gg/devioussolver</p>
                            <span class="text-[10px] bg-indigo-500/20 text-indigo-400 px-4 py-2 rounded-full border border-indigo-500/30 font-bold uppercase tracking-tighter hover:bg-indigo-500/40 transition-all flex items-center gap-2">
                                <i class="fa-brands fa-discord"></i> Join Discord
                            </span>
                        </div>
                    </div>

                    <div onclick="confirmRedirect('https://nettify.xyz/auth/signup?ref=BULD9HLK')" class="glass-card home-gradient-card p-6 rounded-3xl border-l-2 border-l-blue-500/30">
                        <h3 class="font-bold text-xl text-white mb-2">Proxies</h3>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="text-[9px] bg-white/5 border border-white/5 px-2 py-0.5 rounded text-blue-400 font-bold uppercase">HTTP2 / HTTP3</span>
                            <span class="text-[9px] bg-white/5 border border-white/5 px-2 py-0.5 rounded text-blue-400 font-bold uppercase">SOCKS5</span>
                        </div>
                        <p class="text-xs text-slate-400 leading-relaxed mb-8">
                            Highest quality HTTP2 / HTTP3 proxies with full UDP support. Engineered for the Highest Quality IPs & Speed
                        </p>
                        <div class="flex items-center justify-between mt-auto">
                            <p class="text-[10px] text-slate-500 font-mono italic">nettify.xyz</p>
                            <span class="text-[10px] bg-blue-500/20 text-blue-400 px-4 py-2 rounded-full border border-blue-500/30 font-bold uppercase tracking-tighter hover:bg-blue-500/40 transition-all flex items-center gap-2">
                                <i class="fa-solid fa-globe"></i> Website
                            </span>
                        </div>
                    </div>
                </div>
            </section>

            <section id="wallet" class="tab-content">
                <div class="glass-card wallet-highlight p-8 rounded-[2rem] cursor-default mb-6 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-blue-500/10 blur-[60px] rounded-full -mr-10 -mt-10"></div>
                    
                    <div class="flex items-center justify-between mb-10 relative z-10">
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-white/10 to-white/5 flex items-center justify-center border border-white/10 shadow-lg">
                                <img src="https://cryptologos.cc/logos/litecoin-ltc-logo.png" class="w-8 h-8 object-contain" alt="LTC">
                            </div>
                            <div>
                                <h2 class="text-sm font-bold tracking-tight text-white/90">Main Portfolio</h2>
                                <p class="text-[9px] text-blue-400 font-bold uppercase tracking-widest">Litecoin Network</p>
                            </div>
                        </div>
                        <button onclick="fetchData()" class="w-8 h-8 flex items-center justify-center rounded-full hover:bg-white/5 transition-colors">
                            <i id="refresh-icon" class="fa-solid fa-rotate-right text-xs text-slate-500"></i>
                        </button>
                    </div>

                    <div class="text-center py-6 relative z-10">
                        <h3 id="usd-value" class="text-6xl md:text-7xl font-bold tracking-tighter mb-2 transition-all duration-500">$0</h3>
                        <div id="ltc-balance" class="text-sm font-medium text-slate-400 mb-8">0.0000 LTC</div>
                        
                        <div class="grid grid-cols-3 gap-3">
                            <div class="bg-white/[0.03] rounded-2xl p-3 border border-white/5">
                                <p class="text-[8px] uppercase tracking-widest text-slate-500 mb-1">Unconfirmed</p>
                                <p id="ltc-unconfirmed" class="text-xs font-bold text-slate-200">0.0000</p>
                            </div>
                            <div class="bg-white/[0.03] rounded-2xl p-3 border border-white/5">
                                <p class="text-[8px] uppercase tracking-widest text-slate-500 mb-1">Received</p>
                                <p id="ltc-total-activity" class="text-xs font-bold text-slate-200">0.0000</p>
                                <p id="ltc-total-activity-usd" class="text-[8px] text-slate-500 font-medium mt-0.5">$0</p>
                            </div>
                            <div class="bg-white/[0.03] rounded-2xl p-3 border border-white/5">
                                <p class="text-[8px] uppercase tracking-widest text-slate-500 mb-1">Total TXs</p>
                                <p id="ltc-txs" class="text-xs font-bold text-slate-200">0</p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 pt-6 border-t border-white/5">
                        <div class="flex items-center justify-between mb-3 px-1">
                            <span class="text-[9px] font-bold text-slate-500 uppercase tracking-widest">Deposit Address</span>
                            <i class="fa-solid fa-shield-check text-[10px] text-green-500/50"></i>
                        </div>
                        <button onclick="copyToClipboard('LiHqigVa1c1A3RZQFnnMzXfefJSFVBoVoU')" class="w-full flex items-center justify-between bg-black/40 p-4 rounded-2xl border border-white/5 group hover:border-white/20 transition-all active-press">
                            <p class="text-[10px] font-mono text-slate-400 truncate tracking-tight">LiHqigVa1c1A3RZQFnnMzXfefJSFVBoVoU</p>
                            <i class="fa-solid fa-copy text-xs text-slate-600 group-hover:text-white transition-colors"></i>
                        </button>
                    </div>
                </div>

                <div class="px-2">
                    <h3 class="text-[10px] font-bold uppercase tracking-[0.2em] text-slate-500 mb-4 flex items-center gap-2">
                        <span class="w-1 h-1 bg-blue-500 rounded-full"></span> Recent Activity
                    </h3>
                    <div id="tx-container" class="space-y-3">
                        <div class="animate-pulse space-y-3">
                            <div class="h-16 bg-white/5 rounded-2xl"></div>
                            <div class="h-16 bg-white/5 rounded-2xl"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="socials" class="tab-content">
                <div class="glass-card p-8 rounded-[2rem]">
                    <h2 class="text-xl font-bold mb-6 italic text-center">Socials</h2>
                    <div class="space-y-3">
                        <div onclick="copyToClipboard('heart.txt')" class="glass-card p-4 rounded-xl flex items-center justify-between cursor-pointer active-press border border-white/5">
                            <div class="flex items-center gap-3 text-left">
                                <i class="fa-brands fa-discord text-xl text-[#5865F2]"></i>
                                <div><p class="text-[9px] text-[#5865F2] font-bold uppercase">Discord</p><p class="font-bold text-base">heart.txt <span class="ml-2 text-[8px] bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded-md uppercase font-black">Primary</span></p></div>
                            </div>
                            <i class="fa-solid fa-copy text-[10px] text-slate-600"></i>
                        </div>
                        <div onclick="copyToClipboard('@contain')" class="glass-card p-4 rounded-xl flex items-center justify-between cursor-pointer active-press border border-white/5">
                            <div class="flex items-center gap-3 text-left">
                                <i class="fa-brands fa-telegram text-xl text-[#26A5E4]"></i>
                                <div><p class="text-[9px] text-[#26A5E4] font-bold uppercase">Telegram</p><p class="font-bold text-base">@contain</p></div>
                            </div>
                            <i class="fa-solid fa-copy text-[10px] text-slate-600"></i>
                        </div>
                        <div onclick="copyToClipboard('@deadly')" class="glass-card p-4 rounded-xl flex items-center justify-between cursor-pointer active-press border border-white/5">
                            <div class="flex items-center gap-3 text-left">
                                <i class="fa-brands fa-youtube text-xl text-red-500"></i>
                                <div><p class="text-[9px] text-red-500 font-bold uppercase">YouTube</p><p class="font-bold text-base">@deadly</p></div>
                            </div>
                            <i class="fa-solid fa-copy text-[10px] text-slate-600"></i>
                        </div>
                    </div>
                </div>
            </section>

            <section id="settings" class="tab-content">
                <div class="glass-card p-8 rounded-[2rem]">
                    <h2 class="text-xl font-bold mb-6 italic text-center">Settings</h2>
                    
                    <div class="space-y-4">
                        <div class="setting-item p-4 rounded-2xl flex items-center justify-between">
                            <div>
                                <p class="text-sm font-bold text-white mb-1">Auto-play Music</p>
                                <p class="text-[10px] text-slate-500">Play background music automatically</p>
                            </div>
                            <div class="toggle-switch" onclick="toggleSetting(this, 'autoMusic')" id="toggle-music">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>

                        <div class="setting-item p-4 rounded-2xl flex items-center justify-between">
                            <div>
                                <p class="text-sm font-bold text-white mb-1">Particles Effect</p>
                                <p class="text-[10px] text-slate-500">Show animated background particles</p>
                            </div>
                            <div class="toggle-switch active" onclick="toggleSetting(this, 'particles')" id="toggle-particles">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>

                        <div class="setting-item p-4 rounded-2xl flex items-center justify-between">
                            <div>
                                <p class="text-sm font-bold text-white mb-1">Auto-refresh Wallet</p>
                                <p class="text-[10px] text-slate-500">Update wallet balance every 15 seconds</p>
                            </div>
                            <div class="toggle-switch active" onclick="toggleSetting(this, 'autoRefresh')" id="toggle-refresh">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>

                        <div class="setting-item p-4 rounded-2xl flex items-center justify-between">
                            <div>
                                <p class="text-sm font-bold text-white mb-1">Smooth Animations</p>
                                <p class="text-[10px] text-slate-500">Enable smooth transitions and effects</p>
                            </div>
                            <div class="toggle-switch active" onclick="toggleSetting(this, 'animations')" id="toggle-animations">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>

                        <div class="setting-item p-4 rounded-2xl flex items-center justify-between">
                            <div>
                                <p class="text-sm font-bold text-white mb-1">Show Confirmations</p>
                                <p class="text-[10px] text-slate-500">Ask before opening external links</p>
                            </div>
                            <div class="toggle-switch active" onclick="toggleSetting(this, 'confirmLinks')" id="toggle-confirm">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>

                        <div class="setting-item p-4 rounded-2xl flex items-center justify-between">
                            <div>
                                <p class="text-sm font-bold text-white mb-1">Reduce Motion</p>
                                <p class="text-[10px] text-slate-500">Minimize animations for accessibility</p>
                            </div>
                            <div class="toggle-switch" onclick="toggleSetting(this, 'reducedMotion')" id="toggle-motion">
                                <div class="toggle-thumb"></div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 pt-6 border-t border-white/5">
                        <p class="text-center text-[9px] text-slate-600 uppercase tracking-widest mb-4">About</p>
                        <div class="text-center space-y-2">
                            <p class="text-xs text-slate-400">Version 1.0.0</p>
                            <p class="text-[10px] text-slate-600">Made by cursed.wtf</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <div id="confirm-modal" class="modal-overlay">
        <div class="glass-card gradient-modal modal-box w-full max-w-sm p-8 rounded-3xl border border-white/10 text-center">
            <div class="modal-icon-wrapper">
                <i class="fa-solid fa-arrow-up-right-from-square text-lg text-blue-400"></i>
            </div>
            <h3 class="text-lg font-bold mb-2 text-white">External Link</h3>
            <p class="text-xs text-slate-400 mb-4">You're about to visit:</p>
            <div id="confirm-url" class="confirm-url"></div>
            <p class="text-[10px] text-slate-500 mb-8 px-4">Make sure you trust this link before proceeding</p>
            <div class="flex gap-3">
                <button onclick="closeConfirm()" class="flex-1 py-3.5 bg-white/5 hover:bg-white/10 rounded-xl text-xs font-bold uppercase tracking-wide transition-all border border-white/10 active-press">
                    Cancel
                </button>
                <button id="confirm-btn" class="flex-1 py-3.5 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white rounded-xl text-xs font-bold uppercase tracking-wide transition-all shadow-lg shadow-blue-500/20 active-press">
                    Continue
                </button>
            </div>
        </div>
    </div>

    <div id="tx-modal" class="fixed inset-0 z-[100] flex items-center justify-center px-6 opacity-0 pointer-events-none transition-all duration-300">
        <div class="absolute inset-0 bg-black/80 backdrop-blur-md" onclick="closeTxModal()"></div>
        <div class="glass-card w-full max-w-sm rounded-[2.5rem] p-8 border border-white/10 relative z-10 transform scale-95 transition-transform duration-300" id="tx-modal-content">
            <div id="modal-icon" class="w-16 h-16 rounded-full mx-auto mb-6 flex items-center justify-center text-2xl"></div>
            <h4 id="modal-type" class="text-center text-xl font-bold mb-1">Transaction</h4>
            <p id="modal-date" class="text-center text-[10px] text-slate-500 uppercase tracking-widest mb-8"></p>
            
            <div class="space-y-4 mb-8">
                <div class="flex justify-between items-center py-3 border-b border-white/5">
                    <span class="text-xs text-slate-500">Amount</span>
                    <span id="modal-amount" class="text-sm font-bold"></span>
                </div>
                <div class="py-3 border-b border-white/5">
                    <span class="text-xs text-slate-500 block mb-2">Sender</span>
                    <p id="modal-sender" class="text-[10px] font-mono text-slate-400 break-all"></p>
                </div>
                <div class="py-3 border-b border-white/5">
                    <span class="text-xs text-slate-500 block mb-2">Receiver</span>
                    <p id="modal-receiver" class="text-[10px] font-mono text-slate-400 break-all"></p>
                </div>
                <div class="py-3">
                    <span class="text-xs text-slate-500 block mb-2">TXID</span>
                    <p id="modal-hash" class="text-[10px] font-mono text-slate-400 break-all bg-white/5 p-3 rounded-xl border border-white/5"></p>
                </div>
            </div>

            <a id="modal-link" href="#" target="_blank" class="w-full py-4 bg-white text-black rounded-2xl font-bold text-xs uppercase tracking-widest flex items-center justify-center gap-2 active-press">
                View on Explorer <i class="fa-solid fa-arrow-up-right-from-square text-[10px]"></i>
            </a>
        </div>
    </div>

    <script>
        let autoUpdateInterval;
        let currentLtcBalance = "0.0000";
        const textToType = "Learning from mistakes and profiting off them.";
        let i = 0;
        const WALLET_ADDRESS = 'LiHqigVa1c1A3RZQFnnMzXfefJSFVBoVoU';

        const music = document.getElementById('bg-music');
        const musicIcon = document.getElementById('music-icon');
        let isPlaying = false;

        let settings = {
            autoMusic: false,
            particles: true,
            autoRefresh: true,
            animations: true,
            confirmLinks: true,
            reducedMotion: false
        };

        function loadSettings() {
            const saved = localStorage.getItem('cursed-settings');
            if (saved) {
                settings = {...settings, ...JSON.parse(saved)};
                applySettings();
            }
        }

        function saveSettings() {
            localStorage.setItem('cursed-settings', JSON.stringify(settings));
        }

        function applySettings() {
            document.getElementById('toggle-music').classList.toggle('active', settings.autoMusic);
            document.getElementById('toggle-particles').classList.toggle('active', settings.particles);
            document.getElementById('toggle-refresh').classList.toggle('active', settings.autoRefresh);
            document.getElementById('toggle-animations').classList.toggle('active', settings.animations);
            document.getElementById('toggle-confirm').classList.toggle('active', settings.confirmLinks);
            document.getElementById('toggle-motion').classList.toggle('active', settings.reducedMotion);
            
            if (settings.particles) {
                document.getElementById('tsparticles').style.display = 'block';
            } else {
                document.getElementById('tsparticles').style.display = 'none';
            }

            if (settings.reducedMotion) {
                document.documentElement.style.setProperty('--animation-speed', '0s');
            } else {
                document.documentElement.style.setProperty('--animation-speed', '0.3s');
            }
        }

        function toggleSetting(element, setting) {
            element.classList.toggle('active');
            settings[setting] = element.classList.contains('active');
            saveSettings();
            
            if (setting === 'particles') {
                if (settings.particles) {
                    document.getElementById('tsparticles').style.display = 'block';
                } else {
                    document.getElementById('tsparticles').style.display = 'none';
                }
            }
            
            if (setting === 'autoMusic' && settings.autoMusic && !isPlaying) {
                toggleMusic();
            }

            if (setting === 'reducedMotion') {
                if (settings.reducedMotion) {
                    document.documentElement.style.setProperty('--animation-speed', '0s');
                } else {
                    document.documentElement.style.setProperty('--animation-speed', '0.3s');
                }
            }
        }

        function toggleMusic() {
            if (isPlaying) {
                music.pause();
                musicIcon.classList.replace('fa-volume-high', 'fa-volume-xmark');
            } else {
                music.play().catch(e => console.log("Autoplay prevented."));
                musicIcon.classList.replace('fa-volume-xmark', 'fa-volume-high');
            }
            isPlaying = !isPlaying;
        }

        function typeWriter() {
            if (i < textToType.length) {
                document.getElementById("typing-text").innerHTML += textToType.charAt(i);
                i++;
                setTimeout(typeWriter, Math.random() * 50 + 50);
            } else {
                document.getElementById("typing-text").classList.remove("typing-cursor");
            }
        }

        function confirmRedirect(url) {
            if (!settings.confirmLinks) {
                window.open(url, '_blank');
                return;
            }

            const cleanUrl = url.replace('https://', '').replace('http://', '').replace('www.', '');
            const overlay = document.getElementById('confirm-modal');
            document.getElementById('confirm-url').innerText = cleanUrl;
            const btn = document.getElementById('confirm-btn');
            btn.onclick = () => { window.open(url, '_blank'); closeConfirm(); };
            overlay.classList.add('active');
        }

        function closeConfirm() { document.getElementById('confirm-modal').classList.remove('active'); }

        window.addEventListener('scroll', () => {
            const brand = document.getElementById('brand-card');
            const nav = document.getElementById('nav-dock-container');
            const musicBtn = document.getElementById('music-control');
            const btt = document.getElementById('btt-btn');
            const scrollPos = window.scrollY;
            
            let opacity = 1 - (scrollPos / 60);
            opacity = Math.max(0, Math.min(1, opacity));
            
            brand.style.opacity = opacity;
            brand.style.transform = `translateY(${-scrollPos * 0.2}px)`;
            brand.style.pointerEvents = opacity < 0.1 ? 'none' : 'auto';

            musicBtn.style.opacity = opacity;
            musicBtn.style.transform = `translateY(${-scrollPos * 0.2}px)`;
            musicBtn.style.pointerEvents = opacity < 0.1 ? 'none' : 'auto';

            nav.style.opacity = opacity;
            nav.style.transform = `translateY(${scrollPos * 0.2}px)`;
            nav.style.pointerEvents = opacity < 0.1 ? 'none' : 'auto';

            if (opacity < 0.1) { btt.classList.add('visible'); } 
            else { btt.classList.remove('visible'); }
        });

        function updateIndicator() {
            const activeBtn = document.querySelector('.nav-btn.nav-active');
            const indicator = document.getElementById('nav-indicator');
            if (activeBtn && indicator) {
                indicator.style.width = activeBtn.offsetWidth + 'px';
                indicator.style.left = activeBtn.offsetLeft + 'px';
            }
        }

        window.onload = () => { 
            loadSettings();
            typeWriter(); 
            updateIndicator(); 
            
            setTimeout(() => {
                document.getElementById('loading-screen').classList.add('hidden');
            }, 1500);

            if (settings.autoMusic) {
                setTimeout(() => toggleMusic(), 2000);
            }
        };
        window.onresize = updateIndicator;

        function triggerPing(elementId) {
            const el = document.getElementById(elementId);
            el.classList.remove('value-changed');
            void el.offsetWidth;
            el.classList.add('value-changed');
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const toast = document.getElementById('global-toast');
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2000);
            });
        }

        function switchTab(tabId, element) {
            const currentTab = document.querySelector('.tab-content.active');
            const targetTab = document.getElementById(tabId);
            if (currentTab === targetTab) return;
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('nav-active'));
            element.classList.add('nav-active');
            updateIndicator();
            if (currentTab) currentTab.classList.remove('active');
            targetTab.classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            if(tabId === 'wallet') { 
                fetchData(); 
                if (settings.autoRefresh) {
                    startAutoUpdate(); 
                }
            } else { 
                stopAutoUpdate(); 
            }
        }

        async function fetchData() {
            const icon = document.getElementById('refresh-icon');
            if(icon) {
                icon.classList.remove('refresh-anim');
                void icon.offsetWidth;
                icon.classList.add('refresh-anim');
            }
            try {
                const [balRes, priceRes, txRes] = await Promise.all([
                    fetch(`https://api.blockcypher.com/v1/ltc/main/addrs/${WALLET_ADDRESS}/balance`),
                    fetch('https://api.coingecko.com/api/v3/simple/price?ids=litecoin&vs_currencies=usd'),
                    fetch(`https://api.blockcypher.com/v1/ltc/main/addrs/${WALLET_ADDRESS}?limit=8`)
                ]);
                const balData = await balRes.json();
                const priceData = await priceRes.json();
                const txData = await txRes.json();

                const ltcValue = balData.balance / 100000000;
                const newBalance = ltcValue.toFixed(4);
                const usdVal = `$${Math.floor(ltcValue * priceData.litecoin.usd).toLocaleString()}`;
                
                // Calculate total activity (received + sent)
                const totalReceived = balData.total_received / 100000000;
                const totalSent = balData.total_sent / 100000000;
                const totalActivity = totalReceived + totalSent;
                const totalActivityFormatted = totalActivity.toFixed(4);
                const totalActivityUsd = `$${Math.floor(totalActivity * priceData.litecoin.usd).toLocaleString()}`;
                
                if (newBalance !== currentLtcBalance && currentLtcBalance !== "0.0000") {
                    triggerPing('usd-value');
                }
                currentLtcBalance = newBalance;
                
                document.getElementById('ltc-balance').innerText = `${newBalance} LTC`;
                document.getElementById('ltc-unconfirmed').innerText = (balData.unconfirmed_balance / 100000000).toFixed(4);
                document.getElementById('ltc-total-activity').innerText = totalActivityFormatted;
                document.getElementById('ltc-total-activity-usd').innerText = totalActivityUsd;
                document.getElementById('ltc-txs').innerText = balData.n_tx;
                document.getElementById('usd-value').innerText = usdVal;

                const container = document.getElementById('tx-container');
                if (txData.txrefs && txData.txrefs.length > 0) {
                    container.innerHTML = txData.txrefs.map(tx => {
                        const isReceived = tx.tx_input_n === -1;
                        const amt = (tx.value / 100000000).toFixed(4);
                        
                        const dateObj = new Date(tx.confirmed);
                        const month = dateObj.toLocaleString('en-US', { month: 'long' });
                        const day = dateObj.getDate();
                        const time = dateObj.toLocaleString('en-US', { hour: 'numeric', minute: '2-digit', hour12: true });
                        const fullTimestamp = `${month} ${day}, at ${time}`;

                        return `
                            <div onclick="showTxDetails('${tx.tx_hash}', '${amt}', ${isReceived}, '${fullTimestamp}')" 
                                 class="tx-item flex items-center justify-between p-4 rounded-2xl cursor-pointer border border-transparent hover:border-white/10">
                                <div class="flex items-center gap-4">
                                    <div class="relative">
                                        <div class="w-11 h-11 rounded-full flex items-center justify-center bg-gradient-to-br from-white/10 to-white/5 border border-white/10 shadow-md">
                                            <img src="https://cryptologos.cc/logos/litecoin-ltc-logo.png" class="w-6 h-6 object-contain opacity-70" alt="LTC">
                                        </div>
                                        <div class="absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-black flex items-center justify-center text-[8px] ${isReceived ? 'bg-green-500 text-white' : 'bg-white text-black'}">
                                            <i class="fa-solid ${isReceived ? 'fa-arrow-down' : 'fa-arrow-up'}"></i>
                                        </div>
                                    </div>
                                    <div>
                                        <p class="text-xs font-bold text-white">${isReceived ? 'Received' : 'Sent'}</p>
                                        <p class="text-[9px] text-slate-500 font-bold uppercase tracking-tighter">${fullTimestamp}</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <p class="text-xs font-bold ${isReceived ? 'text-green-400' : 'text-white'}">${isReceived ? '+' : '-'}${amt}</p>
                                    <p class="text-[9px] text-slate-600 font-mono">Confirmed</p>
                                </div>
                            </div>
                        `;
                    }).join('');
                } else {
                    container.innerHTML = `<p class="text-center py-8 text-xs text-slate-600">No activity yet.</p>`;
                }
            } catch (err) {
                console.error('Error fetching data:', err);
            } 
        }

        async function showTxDetails(hash, amount, isReceived, timestamp) {
            const modal = document.getElementById('tx-modal');
            const content = document.getElementById('tx-modal-content');
            const icon = document.getElementById('modal-icon');

            document.getElementById('modal-type').innerText = isReceived ? 'Litecoin Received' : 'Litecoin Sent';
            document.getElementById('modal-amount').innerText = `${isReceived ? '+' : '-'}${amount} LTC`;
            document.getElementById('modal-amount').className = `text-sm font-bold ${isReceived ? 'text-green-400' : 'text-white'}`;
            document.getElementById('modal-date').innerText = timestamp;
            document.getElementById('modal-hash').innerText = hash;
            document.getElementById('modal-link').href = `https://live.blockcypher.com/ltc/tx/${hash}`;
            
            document.getElementById('modal-sender').innerText = 'Loading...';
            document.getElementById('modal-receiver').innerText = 'Loading...';

            icon.innerHTML = `<img src="https://cryptologos.cc/logos/litecoin-ltc-logo.png" class="w-10 h-10 object-contain">`;
            icon.className = `w-16 h-16 rounded-full mx-auto mb-6 flex items-center justify-center bg-gradient-to-br from-white/10 to-white/5 border border-white/10 shadow-lg`;

            modal.classList.add('opacity-100', 'pointer-events-auto');
            content.classList.remove('scale-95');
            content.classList.add('scale-100');

            try {
                const txRes = await fetch(`https://api.blockcypher.com/v1/ltc/main/txs/${hash}`);
                const txDetail = await txRes.json();
                
                const senderAddr = txDetail.inputs && txDetail.inputs[0] && txDetail.inputs[0].addresses 
                    ? txDetail.inputs[0].addresses[0] 
                    : 'Unknown';
                
                let receiverAddr = 'Unknown';
                if (txDetail.outputs && txDetail.outputs.length > 0) {
                    for (let output of txDetail.outputs) {
                        if (output.addresses && output.addresses[0] && output.addresses[0] !== WALLET_ADDRESS) {
                            receiverAddr = output.addresses[0];
                            break;
                        }
                    }
                    if (receiverAddr === 'Unknown' && txDetail.outputs[0].addresses) {
                        receiverAddr = txDetail.outputs[0].addresses[0];
                    }
                }
                
                document.getElementById('modal-sender').innerText = senderAddr;
                document.getElementById('modal-receiver').innerText = receiverAddr;
            } catch (err) {
                document.getElementById('modal-sender').innerText = 'Unable to load';
                document.getElementById('modal-receiver').innerText = 'Unable to load';
            }
        }

        function closeTxModal() {
            const modal = document.getElementById('tx-modal');
            const content = document.getElementById('tx-modal-content');
            modal.classList.remove('opacity-100', 'pointer-events-auto');
            content.classList.remove('scale-100');
            content.classList.add('scale-95');
        }

        function startAutoUpdate() { 
            if (autoUpdateInterval) clearInterval(autoUpdateInterval); 
            if (settings.autoRefresh) {
                autoUpdateInterval = setInterval(fetchData, 15000); 
            }
        }
        
        function stopAutoUpdate() { clearInterval(autoUpdateInterval); }

        tsParticles.load("tsparticles", {
            fpsLimit: 120,
            particles: {
                number: { value: 30, density: { enable: true, value_area: 800 } },
                color: { value: "#ffffff" },
                opacity: { value: 0.15, random: true },
                size: { value: 1.2, random: true },
                move: { enable: true, speed: 0.4 }
            }
        });
    </script>
</body>
</html>
